<!DOCTYPE html>
<html xmlns:th="thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>community</title>
	<link rel="stylesheet" th:href="@{/css/header_style.css}">
	<link rel="stylesheet" th:href="@{/css/main_style.css}">
	<link rel="stylesheet" th:href="@{/css/footer.css}">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
<!-- 페이지 이동 스크립트  -->
<script>
function pagingFormSubmit(currentPage) {
	var form = document.getElementById('pagingForm');
	let page = document.querySelector('#page');
	page.value = currentPage;
	form.submit();
}
</script>
</head>
<body>

<!-- 헤더 섹션-->
<header th:replace="layouts/header::header"></header>

<main>
	<br><br>

	<section class="search-section">
		<div class="header-container header-bottom">
			<div class="search-bar">
				<form id="pagingForm" method="get" th:action="@{/board/boardList}">
					<input type="hidden" name="page" id="page">

					<!-- 지역 입력란 -->
		<!--			<input type="text" placeholder="지역 검색" aria-label="지역">-->
					<select id="type" name="type">
						<option value="title" th:selected="${type} == 'title'">제목</option>
						<option value="contents" th:selected="${type} == 'contents'">본문</option>
						<option value="userid" th:selected="${type} == 'userid'">작성자ID</option>
						<option value="all" th:selected="${type} == 'all'">전체</option>
					</select>

					<!-- 게시글 입력란 -->
					<input type="text" name="searchWord" th:value="${searchWord}" placeholder="게시글 검색" aria-label="게시글">

					<!-- 검색 버튼 -->
					<button type="submit" aria-label="검색" onclick="pagingFormSubmit(1)">
						<span class="icon-search"><i class="fas fa-search"></i></span> <!-- Font Awesome 검색 아이콘 -->
					</button>

				</form>
			</div>
		</div>
	</section>

	<br><br>

	<section class="board-container">
		<div class="board-title">
			<h2>인기 게시글 or 최신</h2>
		</div>

		<div class="board-card">
			<article class="card-image">
				<img th:src="@{/img/board/img.png}" alt="게시글 1">
			</article>

			<article class="card-image">
				<img th:src="@{/img/board/img_1.png}" alt="게시글 2">
			</article>
		</div>
	</section>


	<br><br>

	
	<table>
		<tr>
			<td class="white">전체
				<span th:text="${navi.totalRecordsCount}"></span>
			</td>
			<td class="white" colspan="3"></td>
			<td class="white">
				<a th:href="@{/board/write}">글쓰기</a>
				<a th:href="@{/}">홈</a>
			</td>
		</tr>
		<tr>
			<th>글번호</th>
			<th>작성자</th>
			<th style="width:230px;">제목</th>
			<th>조회수</th>
			<th style="width:150px;">작성일</th>
		</tr>
		<!-- controller에서 model로 부터 받아온 데이터를 출력하는 부분 -->
		<tr th:each="board : ${boardList}">
			<td th:text="${board.boardnum}"></td>
			<td th:text="${board.userid}"></td>
			<td>
				<a th:href="@{/board/read(boardnum=${board.boardnum})}" 
				   th:text="${board.title}"></a>
			</td>
			<td th:text="${board.hits}"></td>
			<td th:text="${board.inputdate}"></td>
		</tr>
	</table>

	<section>
	<!-- 페이지 이동 링크 -->     
	<a th:href="|javascript:pagingFormSubmit(${navi.currentPage - navi.pagePerGroup})|">◁◁</a>
	<a th:href="|javascript:pagingFormSubmit(${navi.currentPage - 1})|">◀</a> 

	<span th:each="counter : ${#numbers.sequence(navi.startPageGroup, navi.endPageGroup)}"> 
		<th:block th:if="${counter == navi.currentPage}"><b></th:block>
			<a th:text="${counter}" th:if="${counter != 0}"
			 th:href="|javascript:pagingFormSubmit(${counter})|"></a>
		<th:block th:if="${counter == navi.currentPage}"></b></th:block>
	</span>
	
	<a th:href="|javascript:pagingFormSubmit(${navi.currentPage + 1})|">▶</a> 
	<a th:href="|javascript:pagingFormSubmit(${navi.currentPage + navi.pagePerGroup})|">▷▷</a>
	<br><br>
	

	</section>

	<br><br><br><br><br><br><br><br>
</main>

<footer th:replace="layouts/footer::footer"></footer>

</body>
</html>