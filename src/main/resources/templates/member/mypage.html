<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<h2>My Page</h2>

<a th:href="@{/member/update}" th:text="회원정보수정"></a>
<br>
<h3>내 프로그램 관리</h3>
	<table>
		<tr th:each="program: ${programList}">	
			<th th:text="${program.programNum}"></th>
 			<td><a th:href="@{/program/detail(programNum=${program.programNum})}" 
					 th:text="${program.title}"></a></td>
		</tr>
	</table>
	
<h4>예약상태(0:수락대기/1:수락완료/2:프로그램종료)<br> 2이면 리뷰쓰기 버튼 활성화</h4> 
		
<h3>예약현황</h3>	
<h4>(게스트에 대한 리뷰)</h4>	
	<table>
			<tr th:each="reservation: ${reservation}">	 
			<th>프로그램 번호</th>
			<td th:text="${reservation.programNum}"></td>
			<td>
				<a th:href="@{/program/accept(reserNum=${reservation.reserNum})}" 
					th:text="accept"></a>
			</td>
			<td th:text="${reservation.inputdate}"></td>
			<th>예약상태</th>
			
			<td th:switch="${reservation.status}">
			    <p th:case="0">예약이 확인 대기 중입니다.</p>
			    <p th:case="1">예약이 확인되었습니다.</p>
			    <p th:case="2"><a th:href="@{/program/guestReview(reserNum=${reservation.reserNum})}" 
					th:text="게스트리뷰작성하기"></a> </p>
			    <p th:case="*" >알 수 없는 상태입니다.</p>
			</td>
			
		</tr>
	</table>
	<br>
	
 <h3>내가 신청한 프로그램</h3>		
 <h4>(프로그램,호스트에 대한 리뷰)</h4>	
	<table>
			<tr th:each="myReservation: ${myReservation}">	 
			<th>프로그램 번호</th>
			<td th:text="${myReservation.programNum}"></td>
			<td>
				<a th:href="@{/program/detail(programNum=${myReservation.programNum})}" 
					th:text="프로그램정보"></a>
			</td>
			<th>예약날짜</th>
			<td th:text="${myReservation.start_date}"></td>
			<th>예약상태</th>
			<td th:switch="${myReservation.status}">
			    <p th:case="0">예약이 확인 대기 중입니다.</p>
			    <p th:case="1">예약이 확인되었습니다.</p>
			    <p th:case="2">
					<a th:href="@{/program/programReview(reserNum=${myReservation.reserNum})}" th:text="프로그램리뷰"></a> 
					<a th:href="@{/program/hostReview(reserNum=${myReservation.reserNum})}" th:text="호스트리뷰"></a> 

				</p>
			    <p th:case="*" >알 수 없는 상태입니다.</p>
			</td>
		</tr>
	</table>
<h3>내가 쓴 리뷰</h3>	
<h3>나에 대한 리뷰</h3>	

</body>
</html>