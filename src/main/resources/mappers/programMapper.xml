<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.abcde.cultureStay.dao.ProgramDAO">

<!--///////// 가장 첫 메인 홈 화면 /////////-->
<!-- 인기 프로그램 --><!-- 수정해야댐 -->
	<select id="homePopular" resultType="Program">
	  		select * from Program 
	</select>
<!-- 유저별 추천 프로그램 -->	<!-- 수정해야댐 -->
	<select id="homeRecommend" parameterType="String" resultType="Program">
	  		select * from Program 
	</select>

<!-- ///////////프로그램 화면//////////////-->
 <select id="programMainlist" parameterType="map" resultType="Program">
  		select * from Program 
 </select><!-- 수정해야댐 -->
  
 <!-- 글쓰기 -->
 <insert id="pWrite" parameterType="Program">
		insert into Program
		(
			programNum
			, userid
			, title
			, content
			, address
			, price
			, tag
			, start_date
			, end_date
		
		) values (
			programNum_seq.nextval
			, #{userid}
			, #{title}
			, #{content}
			, #{address}
			, #{price}
			, #{tag}
			, #{start_date}
			, #{end_date}
		)
	</insert>
	
 	
  	<select id="readProgram" parameterType="int" resultType="Program">
  	
		select * from 
			Program 
		where 
			programNum = #{programNum}
	</select>
  
  	<!-- 수정해야댐 -->
  	<update id="recentClick" parameterType="int">
		update 
			Program 
		set 
			hits = hits + 1
		where 
			programNum = #{programNum}
	</update>
	
  
	  <select id="pReviewList" parameterType="int" resultType="Reply">
			select 
				* 
			from 
				Review 
			where 
				programNum = #{programNum}
			order by
				reviewNum
		</select>
		
  <update id="p_updateHits" parameterType="int">
		update 
			Program 
		set 
			hits = hits + 1
		where 
			programNum = #{programNum}
	</update>
  
</mapper>